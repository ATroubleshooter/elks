<HTML>
<HEAD>
   <TITLE>ELKS - ELKS 0.0.66 released</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#CD853F" VLINK="#A0522D" ALINK="#FF7F50">
<TABLE WIDTH="570">
<TR>
<TD>
<P>
<IMG SRC="ELKS-Logo.gif" HEIGHT=77 WIDTH=224 ALT="[ELKS - Logo]"><BR>
</P>
</TD>
<TD valign=bottom>
<h6>
<A HREF="Intro.html">[INTRO]</a>
<A HREF="ELKSfaq.html">[FAQ]</a>
<A HREF="Where.html">[DOWNLOAD]</a>
<A HREF="index.html#NEWS">[NEWS]</a>
<A HREF="index.html">[HOME]</a>
</h6>
</TD>
</TR>
</TABLE>

<TABLE WIDTH="570">
<TR>
<TD>
<p>
<b>From</b> <a href="mailto:ajr@ecs.soton.ac.uk">ajr@ecs.soton.ac.uk</a> Thu Oct 16 20:52:33 1997<br>
<b>Date:</b> Wed, 15 Oct 1997 15:07:46 +0100 (BST)<br>
<b>From:</b> <a href="mailto:ajr@ecs.soton.ac.uk">Alistair Riddoch &lt ajr@ecs.soton.ac.uk &gt</a><br>
<b>To:</b> Mailing List &lt linux-8086@vger.rutgers.edu &gt<br>
<h3>
<b>Subject:</b> ELKS 0.0.66 available on ftp.ecs.soton.ac.uk
</h3>
</p>
<p>
ELKS version 0.0.66 is now available at the following url:
</p>
<p>
<a href="ftp://ftp.ecs.soton.ac.uk/pub/elks/elks-0.0.66/">ftp://ftp.ecs.soton.ac.uk/pub/elks/elks-0.0.66/</a>
</p>
<p>
As usual the three files are
</p>
<p>
	elks-0.0.66.tar.gz	- kernel sources<br>
	elkscmd.tar.gz		- use space sources<br>
	images.zip		- precompiled boot and root disk images.<br>
</p>
<p>
The are alot of additions to this version and some chamges. The major changes
are the new device drivers.
</p>
<p>
I have done most of the work on a serial driver which works as part of the
tty driver. This uses minor number 4-7 to support up to four COM ports, but
they must have unique interrupts. Writing to serial ports seems to work fine
on two of my machines, but not so well on others, but the interrupt routine
I have written for receiving characters is never triggered. I have been stuck
on this for a week, and have had to give up. If anyone knows anything about
serial programming, please have a look at it and see if you can spot what I 
have done wrong.
</p>
<p>
I have written a ramdisk driver. This uses major number 1, minor numbers 0-7
for up to 8 ramdisk, each 64K in size. I know this is not very big, but it is
a start. At boot time, ramdisks do not exist. A ramdisk is created by sending
the RDCREATE ioctl call to the device, and destroyed by sending the
RDDESTROY ioctl call to the device. A utility program called ramdisk is 
included in elkscmd.tar.gz in elkscmd/diskutils/ramdisk.c and on the root
disk, to do this easily. To create a ramdisk on /dev/ram0 type:
</p>
<p>
> ramdisk /dev/ram0 make
</p>
<p>
then build a filesystem on it with
</p>
<p>
> mkfs /dev/ram0 64
</p>
<p>
and mount it
</p>
<p>
> mount /dev/ram0 /mnt
</p>
<p>
After unmounting the ramdisk can be destroyed and its memory free's by typing:
</p>
<p>
> ramdisk /dev/ram0 kill
</p>
<p>
I plan to use this driver in diskless and embedded systems which use a 
filesystem stored in ROM. The driver can be easily adapted to read from ROM
disks, and systems will still need writeable space to use for temp files etc.
</p>
<p>
Matthew Kirkwood (weejock@ferrer.lmh.ox.ac.uk)  contributed a large patch which
I am working on implementing. The major part of the patch was a memory device
driver which implements /dev/null /dev/full and /dev/zero, which seem to
work, but have not been thoroughly tested yet.
</p>
<p>
This version also includes many small changes detailed in RELNOTES, including
Rob de Bath's changes for Dev86-13. The change to include/linuxmt/stat.h has
not been included as it stopped most of the user space code from compiling
under Dev86 12. I will download 13 asap and sort this out.
</p>
<p>
The source code for init in elkscmd.c is definitly the same code used to 
make the init on the root disk, and I have not been able to duplicate the
problems reported with file descriptors, I hope this clears it up.
</p>
<p>
Please send bug reports directly to me, as well as the list as my feed from the
list is sketchy.
</p>
<p>
Al
</p>

</TD>
</TR>
</TABLE>

<TABLE WIDTH="570">
<TR>
<TD>
<CENTER><h6><A HREF="index.html">[BACK to INDEX]</A></h6>
<HR SIZE=5 NOSHADE WIDTH="570"><address>Last updated on 16 October 1997<BR>
Maintained by <A HREF="mailto:gabel@physik.uni-kl.de">Steffen Gabel</A>
</address></CENTER>
</TD>
</TR>
</TABLE>
</BODY>
</HTML>