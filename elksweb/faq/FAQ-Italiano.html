<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-15">
	<TITLE>ELKS FAQ - Italiano</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 1.0  (Linux)">
	<META NAME="CREATED" CONTENT="20021014;12512300">
	<META NAME="CHANGEDBY" CONTENT="Daniele Cono D'Elia">
	<META NAME="CHANGED" CONTENT="20021016;16141600">
	<META NAME="DESCRIPTION" CONTENT="FAQ Italiana per ELKS, un port di Linux per architetture Intel a 16-bit">
	<META NAME="KEYWORDS" CONTENT="Linux,linux-86,linux-8086,16-bit,UNIX,ELKS,FAQ">
	<STYLE>
	<!--
		TD P { color: #000000 }
		P { color: #000000 }
		H2 { color: #000000 }
		H3 { color: #000000 }
		H4 { color: #000000 }
		PRE { color: #000000 }
		A:visited { color: #ff00ff }
		A:link { color: #0000ff }
	-->
	</STYLE>
</HEAD>
<BODY LANG="it-IT" TEXT="#000000" LINK="#0000ff" VLINK="#ff00ff" BGCOLOR="#ffffff">
<TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=2 STYLE="page-break-before: always">
	<TR>
		<TD WIDTH=20% VALIGN=TOP>
			<P ALIGN=LEFT><IMG SRC="../Images/ELKStag.gif" NAME="Immagine1" ALT="ELKS Logo" ALIGN=BOTTOM WIDTH=224 HEIGHT=77 BORDER=0>
						</P>
		</TD>
		<TD WIDTH=70%>
			<P ALIGN=CENTER><FONT SIZE=5>ELKS FAQ - Italiano</FONT></P>
		</TD>
		<TD WIDTH=10% VALIGN=TOP>
			<P ALIGN=RIGHT><IMG SRC="../Images/ELKSlogo.gif" NAME="Immagine2" ALT="Baby Linux Logo" ALIGN=BOTTOM WIDTH=65 HEIGHT=77 BORDER=0>
						</P>
		</TD>
	</TR>
</TABLE>
<P ALIGN=CENTER>| <A HREF="http://elks.sf.net/CHANGELOG.txt">Website
History</A> | <A HREF="http://elks.sf.net/download/">Download</A> |
FAQ | <A HREF="http://elks.sf.net/history/">History</A> |
<A HREF="http://elks.sf.net/introduction.html">Introduction</A> |
<A HREF="http://elks.sf.net/lists/">Mailing Lists</A> | <A HREF="http://elks.sf.net/news/">News</A>
| <A HREF="http://elks.sf.net/releases.html">Releases</A> | <A HREF="http://elks.sf.net/">Home</A>
| 
</P>
<HR>
<P STYLE="font-style: normal; font-weight: medium"><FONT FACE="Thorndale"><FONT SIZE=3>Questa
&egrave; una lista delle risposte alle domandi piu' frequenti
riguardanti ELKS , conosciuto anche come Linux-8086.</FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Thorndale">Nota che ELKS non &egrave;
Linux , e la mailing list non &egrave; un luogo adatto per postare
domande riguardanti Linux (malgrado il suo nome). Questo significa
che dovrebbe essere meglio inviare domande a newsgroups specifici
come</FONT> <A HREF="news://comp.os.linux.misc/">comp.os.linux.misc</A>
o simili.</P>
<HR>
<OL>
	<LI><H2 ALIGN=JUSTIFY><A HREF="#1">Generali</A></H2>
	<OL>
		<LI><P ALIGN=JUSTIFY><A HREF="#1.1">Cos'&egrave; ELKS ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#1.2">Cos'ha ELKS in comune con il
		Linux standard ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#1.3">Ci sono distribuzioni
		funzionanti di ELKS ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#1.4">ELKS pu&ograve; girare su un
		8088?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#1.5">E sui processori 80188 e 80186
		?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#1.6">E sui NEC V20 e V30 ?</A></P>
	</OL>
	<LI><H2 ALIGN=JUSTIFY><A HREF="#2">Compilazione ed Installazione</A></H2>
	<OL>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.1">Dove trovo i sorgenti di ELKS ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.2">Come assemblo un kernel ELKS ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.3">Ottengo un errore :
		/usr/include/linux/vm86.h does not exist.</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.4">Come creo un 'init' per ELKS ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.5">Come creo un disco con
		filesystem di root ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.6">Come faccio se ho un XT con
		lettore floppy da 360K ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.7">Come cambio il dispositivo di
		root delle boot images ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.8">Come installarlo su un hard
		disk ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.9">Ottengo errori compilando Dev86
		su sistemi Linux recenti ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.10">Ottengo errori compilando
		elkscmd ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#2.11">Ottengo avvertimenti
		compilando elkscmd ?</A></P>
	</OL>
	<LI><H2 ALIGN=JUSTIFY><A HREF="#3">Usare ELKS</A></H2>
	<OL>
		<LI><P ALIGN=JUSTIFY><A HREF="#3.1">Posso eseguire i binari fatti
		con bcc sotto Linux ?</A></P>
		<LI><P ALIGN=JUSTIFY><A HREF="#3.2">Posso avviare ELKS da DOSEMU ?</A></P>
	</OL>
</OL>
<UL>
	<LI><H2 ALIGN=JUSTIFY><A HREF="#4">Contribuire ad ELKS</A></H2>
</UL>
<OL>
	<LI><P ALIGN=JUSTIFY><A HREF="#4.1">Posso contribuire al progetto
	ELKS ?</A></P>
	<LI><P ALIGN=JUSTIFY><A HREF="#4.2">Cosa occorre per farlo ?</A></P>
	<LI><P ALIGN=JUSTIFY><A HREF="#4.3">Cos'&egrave; CVS ?</A></P>
	<LI><P ALIGN=JUSTIFY><A HREF="#4.4">Da dove lo scarico ?</A></P>
	<LI><P ALIGN=JUSTIFY><A HREF="#4.5">Come uso CVS senza un account ?</A></P>
</OL>
<UL>
	<LI><H2 ALIGN=JUSTIFY><A HREF="#5">Domande senza risposta</A></H2>
</UL>
<OL>
	<LI><P ALIGN=JUSTIFY><A HREF="#5.1">Posso avviare ELKS da DOS , come
	LOADLIN.EXE fa per Linux ?</A></P>
	<LI><P ALIGN=JUSTIFY><A HREF="#5.2">Il mio palmare ha un disco RAM.
	ELKS pu&ograve; accedervi ?</A> <I>(Quando/se ELKS ottiene un
	filesystem MSDOS , si intende)</I></P>
	<LI><P ALIGN=JUSTIFY><A HREF="#5.3">Posso fondere le immagini di
	boot e di root?</A></P>
</OL>
<HR>
<H3><A NAME="1"></A>Sezione 1 - Generali</H3>
<H4><A NAME="1.1"></A>Q1.1. Cos'&egrave; ELKS ?</H4>
<P ALIGN=LEFT><FONT FACE="Thorndale">ELKS &egrave; un sottinsieme per
sistemi embedded del kernel Linux (Embeddable Linux Kernel Subset
ndr), un progetto per costruire un leggero sottinsieme del kernel di
Linux (che dovrebbe offrire piu' o meno le funzionalit&agrave; di
UNIX V7 incluse nel kernel) che pu&ograve; girare su macchine con
limitate risorse di processore e memoria. Maggiori informazioni sullo
sviluppo , sui risultati e sullo stato attuale del progetto possono
essere trovate alla </FONT><A HREF="http://elks.sourceforge.net/"><FONT FACE="Thorndale">home
page di ELKS</FONT></A><FONT FACE="Thorndale"> .</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Thorndale">Gli obbiettivi iniziali erano
gli Intel 8086 ed eventualmente i 286 in modalit&agrave; protetta a
16 bit. Un kernel che pu&ograve; girare su questo genere di hardware
&egrave; utile per i sistemi embedded, per lo sviluppo del terzo
mondo dove le macchine superiori agli 8086 non sono facilmente
reperibili , e per l'uso sui vari palmari</FONT><FONT SIZE=4><FONT FACE="Arial, sans-serif">.</FONT></FONT></P>
<H4><A NAME="1.2"></A>Q1.2. Cos'ha ELKS in comune con il Linux
standard ?</H4>
<P ALIGN=JUSTIFY><A NAME="1.21"></A>ELKS &egrave; nato per essere un
sottinsime del vero Linux , e deve essere abbastanza piccolo per
essere compreso da una persona , quindi rappresenta un inestimabile
strumento di apprendimento. ELKS recentemente &egrave; entrato nello
stato di sviluppo beta e la maggior parte delle sue funzionalit&agrave;
previste vi &egrave; inclusa.</P>
<P ALIGN=JUSTIFY>Avendo detto questo , &egrave; gi&agrave; in grado
di avviarsi , offrire consoles virtuali , montare filesystems minix ,
fornire I/O seriali e paralleli di base , connettersi ad un altro
computer attraverso un collegamento SLIP null-modem. Infine ELKS
supporta lo swapping per allargare virtualmente la RAM di sistema.</P>
<H4><A NAME="1.3"></A>Q1.3. Ci sono distribuzioni funzionanti di ELKS
?</H4>
<P ALIGN=JUSTIFY><A NAME="1.31"></A>Non ancora. Devi usare una
macchina Linux standard , scaricare i sorgenti , e cross-compilare
per generare il codice 8086 necessario. Le immagini dei dischi di
boot e di root sono distribuiti con la versione corrente di ELKS , ma
tutto quello che fanno &egrave; rendere disponibile una piattaforma
per testare il sistema , e si pu&ograve; fare molto poco con essi.</P>
<P ALIGN=JUSTIFY>Se sei interessato a costruire una distribuzione
attorno ad ELKS , sei il benvenuto.</P>
<H4><A NAME="1.4"></A>Q1.4. ELKS pu&ograve; girare su un 8088 ?</H4>
<P ALIGN=JUSTIFY><A NAME="1.41"></A>L'8088 &egrave; identico all'8086
, eccetto che ha un bus per i dati esterni a b bit invece di 16 (e
per questo &egrave; piu' lento). Comunque s&igrave; , ELKS pu&ograve;
girare su di esso.</P>
<H4><A NAME="1.5"></A>Q1.5. E sui processori 80188 e 80186 ?</H4>
<P ALIGN=JUSTIFY><A NAME="1.51"></A>Sono semplicemente delle versioni
ad alta integrazione rispettivamente dell'8088 e dell'8086 , quindi
s&igrave; , ELKS pu&ograve; girare su di essi.</P>
<H4><A NAME="1.6"></A>Q1.6. E sui NEC V20 e V30 ?</H4>
<P ALIGN=JUSTIFY>Da un punto di vista software , questi sono
semplicemente processori 8088 e 8086 rispettivamente , con la sola
eccezione che l'istruzione AAD non pu&ograve; essere usata con altre
basi diverse dai decimali sui V20 e V30 , mentre pu&ograve; essere
usata con le altre basi sui processori 8088 e 8086. Questa differenza
non dovrebbe impedire ad ELKS di girare su questi processori , e si
crede che il kernel non &egrave; affetto da questa differenza , ma le
segnalazioni degli utenti saranno apprezzate.</P>
<HR>
<H3><A NAME="2"></A>Sezione 2 - Compilazione ed Installazione</H3>
<H4><A NAME="2.1"></A>Q2.1. Dove trovo i sorgenti di ELKS ?</H4>
<P>Il sito primario &egrave; <A HREF="http://elks.sf.net/" NAME="2.1">http://elks.sf.net</A>
</P>
<P>Il sito primario per Dev86 &egrave; <A HREF="http://www.cix.co.uk/~mayday/">http://www.cix.co.uk/~mayday/</A>
che &egrave; il miglior posto per trovare l'ultima versione.</P>
<P ALIGN=JUSTIFY>Se ne conosci altri o metterne uno su , per favore
contatta il maintainer.</P>
<H4><A NAME="2.2"></A>Q2.2. Come assemblo un kernel ELKS ?</H4>
<P ALIGN=JUSTIFY><A NAME="2.21"></A>Le versioni recenti contengono un
binario compilato del kernel che la maggior parte delle persone pu&ograve;
usare per iniziare a testarlo. Devi compilarne uno tuo solo se vuoi
modificare il kernel , o cambiare le opzioni di configurazione. Il
file boot in images.zip pu&ograve; essere scritto su un floppy con dd
o RAWRITE.EXE per creare un disco di boot con il kernel.</P>
<P ALIGN=JUSTIFY><A NAME="2.22"></A>Se vuoi compilare il tuo kernel
personale , scarica <TT>dev86/Dev86-0.0.13.4.tar.gz</TT> e
<TT>kernel/elks-0.0.67/elks-0.0.67.tar.gz</TT> (o le utlime versioni)
da linux.mit.edu, o uno degli altri siti. Decomprimi Dev86 in
/usr/src (o un'altra directory conveniente), e elks in
/usr/src/linux-86 , quindi fai...</P>
<PRE><A NAME="2.23"></A>        tar -xvzf Dev86-0.0.13.tar.gz -C /usr/src
        tar -xvzf elks-0.0.67.tar.gz -C /usr/src</PRE><P ALIGN=JUSTIFY>
<A NAME="2.24"></A>L'ambiente di sviluppo verr&agrave; creato in
/usr/src/linux-86, e il sorgente del kenrel in /usr/src/elks. Dopo
devi compilare i programmi di sviluppo , che includono il compilatore
<B>bcc </B>:</P>
<PRE><A NAME="2.25"></A>        cd /usr/src/linux-86
        make install</PRE><P ALIGN=JUSTIFY>
<A NAME="2.26"></A>Ora , compila il kernel :</P>
<PRE><A NAME="2.27"></A>        cd /usr/src/elks
        # Build kernel
        make config
        make dep
        make</PRE><P ALIGN=JUSTIFY>
<A NAME="2.28"></A>Make config funziona allo stesso modo del kernel
Linux principale. La configurazione di default dovrebbe funzionare
sulla maggior parte dei sistemi. Non cambiare alcuna delle opzioni se
non sai cosa stai facendo.</P>
<P ALIGN=JUSTIFY><A NAME="2.29"></A>(Se hai usato gcc per compilare i
kernel di Linux , sarai sorpreso di com'&egrave; veloce questo ! :-)
Il risultato &egrave; un'immagine per floppy disk chiamata &quot;Image&quot;
, che puoi copiare su un floppy ed avviarla da esso.</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.210"></A>        dd if=Image of=/dev/fd0</PRE><P ALIGN=JUSTIFY>
<A NAME="2.211"></A>o</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.212"></A>        make disk</PRE><P ALIGN=JUSTIFY>
<A NAME="2.213"></A>Ora dovresti poter bootare con questo disco , ma
non puoi ottenere altro senza un floppy disk di root da montare.
Dovrai usare l'immagine di root fornita in images.zip , o fartene una
tua. Devi usare bcc per compilare un programma di 'init' e creare un
filesystem minix di root. Questo sar&agrave; spiegato successivamente
sotto.</P>
<H4><A NAME="2.3"></A>Q2.3. Ottengo un errore :
/usr/include/linux/vm86.h does not exist.</H4>
<P ALIGN=JUSTIFY><A NAME="2.31"></A>Modifica <TT>/usr/include/sys/vm86.h</TT>
e cambia...</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.32"></A>        #include &lt;linux/vm86.h&gt;</PRE><P ALIGN=JUSTIFY>
<A NAME="2.33"></A>...in...</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.34"></A>        #include &lt;asm/vm86.h&gt;</PRE><P ALIGN=JUSTIFY>
<BR><BR>
</P>
<H4><A NAME="2.4"></A>Q2.4. Come creo un 'init' per ELKS?</H4>
<P ALIGN=JUSTIFY><A NAME="2.41"></A>Dopo che il kernel ELKS si &egrave;
avviato , deve eseguire /bin/init. Si sta preparando una versione
reale di 'init' per essere inclusa nel tiny-utils package, anche su
linux.mit.edu. Un init molto basilare &egrave; incluso nella sezione
sysutils del pacchetto elkscmd che &egrave; distribuito con ogni
versione. Il codice del kernel &egrave; stato recentemente cambiato e
carica /bin/init invece di /bin/sh</P>
<P ALIGN=JUSTIFY><A NAME="2.42"></A>Per installare init e login
compilali insieme con...</P>
<PRE><A NAME="2.43"></A>        bcc -0 -O -ansi -s init.c -o init
        bcc -0 -O -ansi -s login.c -o login</PRE><P ALIGN=JUSTIFY>
<A NAME="2.45"></A><A NAME="2.44"></A><CODE>-0 </CODE>seleziona la
generazione di codice 8086,<BR><CODE>-O </CODE>abilta le
ottimizzazioni,<BR><CODE>-ansi</CODE> abilitanables solo i prototipi
di funzioni in stile ANSI e,<BR><CODE>-s </CODE>mette i simboli fuori
dal binario.</P>
<P ALIGN=JUSTIFY><A NAME="2.46"></A>...e copiali nella directory /bin
del tuo root disk.Il programma login richiede un file /etc/passwd e
uno /etc/group , e una /bin/sh (o altro dipendente da quando scritto
in /etc/passwd).</P>
<P ALIGN=JUSTIFY><A NAME="2.47"></A>A partire dal kernel 0.0.56 sash
ora funziona ed &egrave; usata come /bin/sh da molte persone. Pu&ograve;
essere trovata in elkscmd.tar.gz . Per ottenere i migliri risultati
copia /etc/passwd e /etc/group da una distribuzione linux standard
sul tuo disco di root affinch&egrave; ls -l funzioni , e
/usr/lib/liberror.txt affinch&egrave; il sistema per riportare gli
errori di sash funzioni.</P>
<P ALIGN=JUSTIFY><A NAME="2.48"></A>Una versione di ash che funziona
con ELKS &egrave; anche inclusa , ma &egrave; piu' grande , e non
dovrebbe funzionare sulle macchine con meno di 640K di memoria.</P>
<H4><A NAME="2.5"></A>Q2.5. Come creo un disco con filesystem di root
?</H4>
<P ALIGN=JUSTIFY><A NAME="2.51"></A>Per la maggior parte delle
persone il file system di root incluso in images.zip dovrebbe essere
l'ideale , e si pu&ograve; usare per creare un disco di root da linux
quanto segue :</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.52"></A>        dd if=root of=/dev/fd0 bs=8192</PRE><P ALIGN=JUSTIFY>
<A NAME="2.53"></A>Da DOS, si pu&ograve; usare RAWRITE.EXE per lo
stesso scopo.</P>
<P ALIGN=JUSTIFY><A NAME="2.54"></A>Devi creare un floppy minix
contenente i file nella posizione giusta. Questo file (la loop image
ndr) deve contenere init, login, e sh in /bin/ e passwd e group in
/etc , e almeno tre ttys per init in /dev/</P>
<P ALIGN=JUSTIFY><A NAME="2.55"></A><I>Nota: /dev/tty &egrave;
diverso da quello usato normalmente Linux (5,0)</I></P>
<PRE><A NAME="2.56"></A>        mkdir /usr/src/root86                   # crea una directory
        cd /usr/src/root86
        mkdir dev                               # crea delle sottodirectory in essa
        cd dev
        mknod tty1 c 4 0                        # crea i dispositivi richiesti
        mknod tty2 c 4 1
        mknod tty3 c 4 2
        mknod fd0 b 3 128
        cd ..
        mkdir bin
        cd bin
        cp &lt;path-to-elkscmd-init&gt; init          # copia dentro i file eseguibili essenziali
        cp &lt;path-to-elkscmd-login&gt; login
        cp &lt;path-to-elkscmd-sash&gt; sh
        cd ..
        mkdir etc
        cd etc
        cp &lt;path-to-skeleton-passwd&gt; passwd     # aggiunge i file richiesti da login
        cp &lt;path-to-skeleton-group&gt; group
        cd ..
        fdformat /dev/fd0H1440                  # se il floppy non &egrave; ancora formattato
        mkfs.minix -n14 /dev/fd0 1440
        mount -t minix /dev/fd0 /a              # richiede un mount point &quot;/a&quot;
        cp -pR /usr/src/root86/* /a
        umount /a</PRE><P ALIGN=JUSTIFY>
Alcune distribuzioni usano /dev/fd0u1440 al posti di /dev/fd0H1440.
Devi rimuovere le passwords dal file passwd perch&egrave; non sono
ancora supportate , e assicurati che la shell per ogni utente sia
/bin/sh per compatibilit&agrave; futura.</P>
<P ALIGN=JUSTIFY><A NAME="2.58"></A>Alternativamente , se hai un
kernel 2.0.x e mount-2.5k, puoi usare il filesystem di loopback per
creare un'immagine del disco sul tuo hard disk , e poi riversarlo su
floppy:</P>
<PRE><A NAME="2.59"></A>        dd if=/dev/zero of=root.image bs=18k count=80
        losetup /dev/loop0 root.image
        mkfs -t minix /dev/loop0 1440
        mount -t minix /dev/loop0 /a
                ...
        umount /a
        dd if=root.image of=/dev/fd0</PRE><P ALIGN=JUSTIFY>
<A NAME="2.510"></A>A partire da ELKS 0.0.53 le dimensioni dei floppy
diverse da 1.44M ora funzionano. Semplicemente segui le istruzioni
sopra rendendo le dimensioni appropiate dove richiesto. Comunque ,
poich&eacute; i dischi da 360K sono scritti diversamente dai
dispositivi da 1.2 Mega , le istruzioni sotto devono essere seguite
se vuoi provare ad avviare una macchina con un lettore 360K.</P>
<H4><A NAME="2.6"></A>Q2.6. Come faccio se ho un XT con lettore
floppy da 360K ?</H4>
<P ALIGN=JUSTIFY><A NAME="2.61"></A>Preparare immagini di boot e root
da eseguire su una macchina diversa richiede un po' d'attenzione ,
specialmente se la macchina di destinazione ha un lettore da 360K. I
dispositivi 360K (5,25&quot; DD) hanno 40-tracce a testina , e quelli
da 1.2MB (5,25 DD) hanno 80-tracce per testina. Un lettore da 1.2M
pu&ograve; leggere dischi da 360K ma non scriverli realmente , poich&eacute;
dovrebbe scrivere tracce magnetiche che sono alte la met&agrave; di
quanto si attende un lettore da 360K.</P>
<P ALIGN=JUSTIFY><A NAME="2.62"></A>Una soluzione &egrave; montare il
lettore 360K come secondo dispositivo nel tuo PC con Linux - quindi
puoi formattare dischi da 360K con :</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.63"></A>        fdformat /dev/fd1d360</PRE><P ALIGN=JUSTIFY>
<A NAME="2.64"></A>...e creare i filesystems come di solito.</P>
<P ALIGN=JUSTIFY><A NAME="2.65"></A>Altrimenti , devi creare un file
immagine del floppy , trasferirlo nel PC che ha il 360K (ad esempio
usando un cavo seriale), quindi usare &quot;rawrite&quot; da DOS per
ricreare il disco dall'imagine.</P>
<H4><A NAME="2.66"></A>Dischi di boot</H4>
<P ALIGN=JUSTIFY>Il file 'Image' pu&ograve; essere scritto su
qualsiasi tipo di floppy e si avvier&agrave; con successo , e devi
trasferirlo e quindi usare 'rawrite' per creare il disco di
destinazione.</P>
<P ALIGN=JUSTIFY><A NAME="2.68"></A>I dischi di root ora sono
riconosciuti automaticamente , e non devi piu' ricompilare per usare
dischetti diversi da 1.44Mb</P>
<H4><A NAME="2.69"></A>Dischi di root</H4>
<P><A NAME="2.610"></A>Puoi preparare un'immagine di root su un disco
piu' grande - quando digiti mkfs sostituisci &quot;360&quot; alla
dimensione del filesystem. Una volta copiati i file su questo disco ,
smontalo , quindi puoi creare un'immagine del dischetto da esso
stesso :</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.611"></A>        dd if=/dev/fd0 of=root.image bs=1k count=360</PRE><P ALIGN=JUSTIFY>
<A NAME="2.612"></A>Quest'immagine pu&ograve; essere trasferita sul
computer di destinazione e scritta usando rawrite come prima. Se usi
un filesystem di loopback questo passo non &egrave; necessario.</P>
<H4><A NAME="2.613"></A>RAM - limitazioni</H4>
<P ALIGN=JUSTIFY><A NAME="2.614"></A>0.0.44 expected there to be 640K
RAM available. Comunque se non hai 640K i problemi con DEF_INITSEG e
DEF_SETUPSEG sono stati risolti nelle ultime versione e non devi
cambiare niente.</P>
<H4><A NAME="2.7"></A>Q2.7. Come cambio il dispositivo di root delle
boot images ?</H4>
<P ALIGN=JUSTIFY><A NAME="2.71"></A>Il disco di boot della versione
0.0.62 era compilato per usare il secondo drive floppy come root
disck poich&eacute; la funzione wait_for_keypress() era danneggiata.
Puoi girarci intorno se hai solo un drive floppy usando un editor hex
per cambiare il &quot;root device.no&quot; nell'immagine.</P>
<P ALIGN=JUSTIFY><A NAME="2.72"></A>Se ottieni un errore riguardo
&quot;root disk mount failing on device 03c0&quot;, carica la boot
image in un editor hex e cerca c003h in prossimit&agrave; dell'inzio
dell'immagine e cambialo in 8003h (c003h &egrave; 03c0 nell'ordine
dei byte inverso di Intel). Questo dovrebbe funzionare con qualsiasi
versione , ma non &egrave; chiaro perch&egrave; l'indirizzo del byte
da modificare cambia nelle varie versioni. <A HREF="mailto:jose@cnct.com">jose@cnct.com</A>
segnala che nella boot image 0.0.62 , i due bytes sono a 0adf - oade
.</P>
<H4><A NAME="2.8"></A>Q2.8. Come installarlo su un hard disk ?</H4>
<P ALIGN=JUSTIFY><A NAME="2.81"></A>A partire dalla versione 0.0.65 &egrave;
possiblie installare il root disk di ELKS in un hard disk e poi
creare un floppy di boot che l'utilizza. Ci sono alcuni bugs ma &egrave;
piu' usabile di un floppy di root.</P>
<P ALIGN=JUSTIFY><A NAME="2.82"></A>Per prima cosa crea una
partizione con fdisk. Qualsiasi versione di fdisk &egrave; in grado
di farlo , ma l'attuale disco di root supporta solo bd?1-4 , che sono
partizione primarie , e se hai gi&agrave; una partizione DOS primaria
non puoi crearne una seconda con fdisk di DOS. La versione di fdisk
inclusa nel disco di root di ELKS 0.0.67 &egrave; ancora giovane come
codice , ma sembra funzionare bene sul mio sistema.</P>
<P ALIGN=JUSTIFY><A NAME="2.83"></A>Avendo creato la partizione ,
avvia ELKS dai floppy di boot e di root , e crea un filesystem usando
mkfs. E' consigliabile per usare fdisk di ELKS il corretto nome del
dispositivo della partizione su cui vuoi creare il filesystem. Per
creare il filesystem digita...</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.84"></A>        mkfs /dev/bd?? &lt;size&gt;</PRE><P ALIGN=JUSTIFY>
<A NAME="2.85"></A>...dove bd?? &egrave; la partizione corretta , e
size &egrave; la dimensione della partizione in blocchi da un KB.
&lt;size&gt; non pu&ograve; essere maggiore di 32M. Es. per creare un
filesystem nella prima partizione del disco slave , che &egrave; una
partizione da 20M :</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.86"></A>        mkfs /dev/bdb1 20000</PRE><P ALIGN=JUSTIFY>
<A NAME="2.87"></A>Ora monta la partizione in /mnt digitando...</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.88"></A>        mount /dev/bd?? /mnt</PRE><P ALIGN=JUSTIFY>
<A NAME="2.89"></A>...dove <I>bd??</I> &egrave; la partizione
corretta. La directory della nuova partizione potrebbe sembrare un
po' corrotta e potrebbe non essere possibile usare ls da /mnt. Non
sono sicuro del perch&egrave; mkfs genera dei filesystems leggermente
corrotty , ma ci sto lavorando sopra.</P>
<P ALIGN=JUSTIFY><A NAME="2.810"></A>Crea le directory essenziali sul
nuovo filesystem come segue :</P>
<PRE><A NAME="2.811"></A>        cd /mnt
        mkdir bin dev etc home mnt root
        mkdir usr usr/lib
        mkdir var var/log var/run
        mkdir /mnt/home/user?....</PRE><P ALIGN=JUSTIFY>
<A NAME="2.812"></A>Ora copia i file essenziali. Te ne servono molti
piu' di questi per un sistema decente ma questi sono gli essenziali e
alcuni un po' piu' utili :</P>
<PRE><A NAME="2.813"></A>        cd /bin
        cp -v cp init getty login ls mount pwd sh umount /mnt/bin/
        cd /etc
        cp -v group passwd /mnt/etc/
        cp /usr/lib/liberror.txt /mnt/usr/lib/
        touch /mnt/var/run/utmp</PRE><P ALIGN=JUSTIFY>
<A NAME="2.814"></A>Infine crea i dispositivi essenziali :</P>
<PRE><A NAME="2.815"></A>        cd /mnt/dev
        for N in 0 1 2 3 ; do mknod tty$N c 4 $N ; done
        mknod fd0 b 3 128
        mknod fd1 b 3 192
        for N in '' 1 2 3 4 ; do mknod bda$N b 3 $[$N+0] ; done
        for N in '' 1 2 3 4 ; do mknod bdb$N b 3 $[$N+64] ; done
        cd /</PRE><P ALIGN=JUSTIFY>
<A NAME="2.816"></A>Ora smonta la nuova partizione con:</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.817"></A>        umount /dev/bd??</PRE><P ALIGN=JUSTIFY>
<A NAME="2.818"></A>Ora devi ricompilare un nuovo kernel con il
dispositivo di root corretto selezionato. Per fare questo modifica
include/linuxmt/config.h nel codice sorgente di ELKS , e cambia il
CONFIG_ROOTDEV da 0x380 al numero corretto di dispositivo della
partizione. Le ultime due cifre sono il minor number della partizione
in esadecimale. Il minor number pu&ograve; essere trovato dalla lista
sopra. Il minor number di bdb3 &egrave; 67 , che &egrave; 43 in
esadecimale , quindi il valore di ROOT_DEV &egrave; 0x343.</P>
<P ALIGN=JUSTIFY><A NAME="2.819"></A>Quando hai finito questo,
digita...</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.820"></A>        make disk</PRE><P ALIGN=JUSTIFY>
<A NAME="2.821"></A>...per compilare un nuovo floppy con il kernel, e
riavvia la macchina ELKS con questo nuovo disco di avvio. Il nuovo
root dovrebbe montarsi , ma potresti ottenere un avvertimento , e il
sisitema appare come normalmente , ma piu' veloce che da un floppy.
Come prima la directory di root potrebbe essere corrotta , ma
dovrebbe essere possibile cambiare il percorso normalmente , e il
sistema dovrebbe ad ogni modo lavorare normalmente.</P>
<H4><A NAME="2.9"></A>Q2.9. Ottengo errori compilando Dev86 su
sistemi Linux recenti ?</H4>
<P ALIGN=JUSTIFY><A NAME="2.91"></A>Ci sono due casi compilando Dev86
su sistemi recenti che sono riconosciuti come un problema sotto
RedHat 6.0.</P>
<OL>
	<LI><P ALIGN=JUSTIFY><A NAME="2.92"></A>Il primo &egrave; un
	conflitto con le recenti glibc e causa che un FILE * non pu&ograve;
	essere inizializzato puntando all'I/O standard. Si sta lavorando ad
	una correzione per questo problema.</P>
	<LI><P ALIGN=JUSTIFY><A NAME="2.93"></A>La versione di ar che
	accompagna alcuni sistemi Linux pu&ograve; non comportarsi bene con
	il formato .o dei files di bcc. Un nuovo programma ar &egrave; stato
	scritto per Dev86 e verr&agrave; incluso nella release successiva.
	Allo stesso tempo <A HREF="mailto:greg@censoft.com">Greg Haerr</A>
	ha fatto una nuova versione disponibile dal server ftp
	<A HREF="ftp://microwindows.censoft.com/pub/microwindows/ar">ftp://microwindows.censoft.com/pub/microwindows/ar
	</A>.</P>
</OL>
<H4><A NAME="2.10"></A>Q2.10. Ottengo errori compilando elkscmd ?</H4>
<P ALIGN=JUSTIFY><A NAME="2.101"></A>Errori simili ai seguenti si
possono incontrare compilando elkscmd se Dev86 non &egrave; compilato
correttamente rispetto ad un kernel recente:</P>
<PRE><A NAME="2.102"></A>        undefined symbol: _setsid
        undefined symbol: _fchown</PRE><P ALIGN=JUSTIFY>
<A NAME="2.103"></A>Questo &egrave; causato perch&egrave; Dev86 non
stilla la lista delle chiamate di sistema dall'attuale sorgente del
kernel. Un problema simile pu&ograve; accadere se Dev86 non trova le
directory include del kernel, e crea link ad esse nella directory
include standard di bcc :</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.104"></A>        ps.c:2.26: error: cannot find include file linuxmt/sched.h</PRE><P>
<A NAME="2.105"></A>La soluzione di questi due problemi insieme &egrave;
la seguente :</P>
<UL>
	<LI><P ALIGN=JUSTIFY><A NAME="2.106"></A>Assicurati che la linea
	vicino all'inizio del Makefile di Dev86 che definisce ELKSSRC punti
	alla directory corretta nel tuo sistema.</P>
	<LI><P ALIGN=JUSTIFY><A NAME="2.107"></A>Ricompila e reinstalla la
	porzione libc di Dev86.</P>
	<PRE><A NAME="2.108"></A>        make library
        make install-lib</PRE>
	<LI><P ALIGN=JUSTIFY><A NAME="2.109"></A>Check that
	/usr/bcc/include/linuxmt and /usr/bcc/include/arch are links to
	elks/include/linuxmt and elks/include/arch respectively, wherever
	you happen to keep your kernel source. If not, rmove the
	directories, and put in the links manually.</P>
	<PRE><A NAME="2.1010"></A>        rm -rf /usr/bcc/include/linuxmt /usr/bcc/include/arch
        ln -s /usr/src/elks/include/linuxmt /usr/bcc/include
        ln -s /usr/src/elks/include/arch /usr/bcc/include</PRE>
	<LI><P ALIGN=JUSTIFY><A NAME="2.1011"></A>Verifica che
	linux-86/libc/syscall.dat &egrave; lo stesso di
	elks/arch/i86/kernel/syscall.dat. Altrimenti copia la versione dal
	kernel nella posizione esatta per forzarlo , quindi ricompila e
	reinstalla Dev86.</P>
	<PRE><A NAME="2.1012"></A>        cd /usr/src/linux-86
        cp /usr/src/elks/arch/i86/kernel/syscall.dat libc/syscall/syscall.dat
        cp /usr/src/elks/arch/i86/kernel/syscall.dat libc/syscall/syscall.dev86
        make library
        make install-lib</PRE>
</UL>
<P ALIGN=JUSTIFY><A NAME="2.1013"></A><A NAME="2.11"></A>elkscmd ora
dovrebbe compilare correttamente.</P>
<H4>Q2.11. Ottengo avvertimenti compilando elkscmd ?</H4>
<P ALIGN=JUSTIFY><A NAME="2.111"></A>Avvertimenti simili ai seguenti
possono capitare compilando elkscmd :</P>
<PRE STYLE="margin-bottom: 0.5cm"><A NAME="2.112"></A>        ld86: warning: _utmpname redefined in file /usr/local/bcc/lib/bcc/i86/libc.a(utnt.o); using definition in utent.o</PRE><P ALIGN=JUSTIFY>
<A NAME="2.113"></A>Questi sono causati perch&egrave; elkscmd
contiene una versione patchata dei files dalla libreria C standard.
Una volta queste versioni patchate sono state testate con successo e
sono state integrate nelle librerie, e rimosse da Dev86.</P>
<HR>
<H3><A NAME="3"></A>Sezione 3 - Usare ELKS</H3>
<H4><A NAME="3.1"></A>Q3.1. Posso eseguire i binari fatti con bcc
sotto Linux ?</H4>
<P ALIGN=JUSTIFY><A NAME="3.11"></A>S&igrave; - caricando un modulo
del kernel puoi eseguire i binari di ELKS direttamente. Questo rende
lo sviluppo dei programmi che gireranno sotto ELKS molto meno gravoso
, cos&igrave; puoi testarli sul tuo sistema Linux normale (sebbene
potrebbero non funzionare sotto ELKS, se il tuo programma usa
un'agevolazione del kernel che non &eg                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
